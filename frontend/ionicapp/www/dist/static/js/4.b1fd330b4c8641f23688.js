webpackJsonp([4],{1432:function(o,t){o.exports={render:function(){var o=this,t=o.$createElement,i=o._self._c||t;return i("Row",{attrs:{justify:"space-between"}},[i("Col",{staticClass:"position_title",attrs:{span:"24"}},[i("Icon",{staticStyle:{"margin-left":"20px"},attrs:{type:"card"}}),o._v("\n\t后台 > 岗位设置\n\n\t")],1),o._v(" "),i("Row",[i("Col",{staticClass:"position_two_title",attrs:{span:"12"}},[i("span",{staticStyle:{"margin-left":"83px"}},[o._v("岗位类别")]),o._v(" "),i("Select",{staticStyle:{width:"200px"}})],1),o._v(" "),i("Col",{staticClass:"position_two_title",attrs:{span:"12"}},[i("span",[o._v("岗位名称")]),o._v(" "),i("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入..."}})],1)],1),o._v(" "),i("Col",{attrs:{span:"24"}},[i("Button",{staticClass:"position_add_button",attrs:{type:"primary"},on:{click:function(t){o.modal1=!0}}},[o._v("新建")]),o._v(" "),i("Modal",{attrs:{title:"新建岗位"},on:{"on-ok":o.addjobposition,"on-cancel":o.cancel},model:{value:o.modal1,callback:function(t){o.modal1=t},expression:"modal1"}},[i("Form",{attrs:{model:o.formItem,"label-width":80}},[i("Form-item",{attrs:{label:"岗位名称"}},[i("Input",{attrs:{placeholder:"请输入"},model:{value:o.formItem.jobpositionName,callback:function(t){o.formItem.jobpositionName=t},expression:"formItem.jobpositionName"}})],1),o._v(" "),i("Form-item",{attrs:{label:"岗位代码"}},[i("Input",{attrs:{placeholder:"请输入"},model:{value:o.formItem.jobpositionCode,callback:function(t){o.formItem.jobpositionCode=t},expression:"formItem.jobpositionCode"}})],1),o._v(" "),i("Form-item",{attrs:{label:"岗位类别"}},[i("Input",{attrs:{placeholder:"请输入"},model:{value:o.formItem.jobpositionType,callback:function(t){o.formItem.jobpositionType=t},expression:"formItem.jobpositionType"}})],1),o._v(" "),i("Form-item",{attrs:{label:"描述"}},[i("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"请输入..."},model:{value:o.formItem.jobpositionDesc,callback:function(t){o.formItem.jobpositionDesc=t},expression:"formItem.jobpositionDesc"}})],1)],1)],1)],1),o._v(" "),i("Col",{attrs:{span:"24"}},[i("Table",{staticClass:"position_showList",attrs:{columns:o.position_columns1,data:o.positionList}}),o._v(" "),i("Page",{attrs:{total:o.totalLength,current:1,"page-size":10},on:{"on-change":o.paging}}),o._v(" "),i("Modal",{attrs:{title:"编辑岗位"},on:{"on-ok":o.editPosition,"on-cancel":o.cancel},model:{value:o.editShow,callback:function(t){o.editShow=t},expression:"editShow"}},[i("Form",{attrs:{model:o.positionInfo,"label-width":80}},[i("Form-item",{attrs:{label:"岗位名称"}},[i("Input",{attrs:{placeholder:"请输入"},model:{value:o.positionInfo.jobpositionName,callback:function(t){o.positionInfo.jobpositionName=t},expression:"positionInfo.jobpositionName"}})],1),o._v(" "),i("Form-item",{attrs:{label:"岗位代码"}},[i("Input",{attrs:{placeholder:"请输入"},model:{value:o.positionInfo.jobpositionCode,callback:function(t){o.positionInfo.jobpositionCode=t},expression:"positionInfo.jobpositionCode"}})],1),o._v(" "),i("Form-item",{attrs:{label:"岗位类别"}},[i("Input",{attrs:{placeholder:"请输入"},model:{value:o.positionInfo.jobpositionType,callback:function(t){o.positionInfo.jobpositionType=t},expression:"positionInfo.jobpositionType"}})],1),o._v(" "),i("Form-item",{attrs:{label:"描述"}},[i("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"请输入..."},model:{value:o.positionInfo.jobpositionDesc,callback:function(t){o.positionInfo.jobpositionDesc=t},expression:"positionInfo.jobpositionDesc"}})],1)],1)],1),o._v(" "),i("Row",{attrs:{type:"flex",justify:"space-around"}},[i("Col",{attrs:{span:"8"}}),o._v(" "),i("Col",{attrs:{span:"16"}})],1)],1)],1)},staticRenderFns:[]}},23:function(o,t,i){i(983);var e=i(1)(i(591),i(1432),null,null);o.exports=e.exports},591:function(o,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){var o=this;return{totalLength:0,modal1:!1,editShow:!1,formItem:{jobpositionName:"",jobpositionCode:"",jobpositionType:"",jobpositionDesc:""},position_columns1:[{type:"selection",width:60,align:"center"},{title:"岗位类别",key:"jobpositionType"},{title:"岗位名称",key:"jobpositionName"},{title:"岗位代码",key:"jobpositionCode"},{title:"岗位描述",key:"jobpositionDesc"},{title:"操作",key:"position_action",render:function(t,i){return t("div",[t("Button",{props:{type:"text",size:"small"},on:{click:function(){o.editJobPosition(i.index)}}},"编辑"),t("Button",{props:{type:"text",size:"small"},on:{click:function(){o.removeJobPosition(i.index)}}},"删除")])}}],position_data1:[],positionList:[],positionInfo:{}}},methods:{ok:function(){this.$Message.info("点击了确定")},cancel:function(){this.$Message.info("点击了取消")},addjobposition:function(){var o=this;this.$http.get(this.globalconfig.addjobpositionapi,{params:{jobpositionName:this.formItem.jobpositionName,jobpositionCode:this.formItem.jobpositionCode,jobpositionType:this.formItem.jobpositionType,jobpositionDesc:this.formItem.jobpositionDesc}},{emulateJSON:!0}).then(function(t){t.body.error?o.$Message.error(t.body.error):(o.$Message.success("创建成功"),o.position_data1.push(t.data.org))},function(t){o.$Message.success("成功")})},showjobposition:function(){var o=this;this.$http.get(this.globalconfig.listjobpositionapi,{params:{}},{emulateJSON:!0}).then(function(t){if(t.body.error)o.$Message.error(t.body.error);else{o.$Message.success("成功");for(var i=t.data.jobposition,e=0;e<i.length;e++)o.position_data1.push(t.data.jobposition[e]);o.totalLength=o.position_data1.length,o.positionList=o.position_data1.slice(0,10),console.log(o.totalLength)}},function(t){o.$Message.success("成功")})},editJobPosition:function(o){this.editShow=!0,this.positionInfo=this.position_data1[o]},removeJobPosition:function(o){var t=this,i=this.position_data1[o].id;this.$http.get(this.globalconfig.deletejobpositionapi,{params:{positionId:i}},{emulateJSON:!0}).then(function(i){i.body.error?t.$Message.error(i.body.error):1==i.data.isDestoryed?(t.$Message.success("删除成功"),t.position_data1.splice(o,1)):0==i.data.isDestoryed&&t.$Message.success("有人了，别删")},function(o){t.$Message.success("成功")})},editPosition:function(){var o=this;this.$http.get(this.globalconfig.updatejobpositionapi,{params:{jobpositionName:this.positionInfo.jobpositionName,id:this.positionInfo.id,jobpositionCode:this.positionInfo.jobpositionCode,jobpositionDesc:this.positionInfo.jobpositionDesc,jobpositionType:this.positionInfo.jobpositionType}},{emulateJSON:!0}).then(function(t){t.body.error?o.$Message.error(t.body.error):o.$Message.success("成功")},function(t){o.$Message.success("成功")})},paging:function(o){this.positionList=this.position_data1.slice(10*o-10,10*o)}},mounted:function(){this.showjobposition()}}},617:function(o,t,i){t=o.exports=i(16)(),t.push([o.i,".position_title{background:#e6e9ed;height:30px;line-height:30px}.position_add_button{width:8%;margin-top:21px;margin-bottom:10px}.position_two_title{margin-top:10px;height:63px;background:#fff;line-height:63px}.position_two_title span{margin-right:20px}.position_showList span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.position_Dialog{margin-top:10px}","",{version:3,sources:["E:/bpmwww/frontend/framework/src/pages/framework/position.vue"],names:[],mappings:"AACA,gBACC,mBAAoB,AACpB,YAAa,AACb,gBAAkB,CAClB,AACD,qBACC,SAAU,AACV,gBAAiB,AACjB,kBAAoB,CACpB,AACD,oBACC,gBAAiB,AACjB,YAAa,AACb,gBAAkB,AAClB,gBAAkB,CAClB,AACD,yBACC,iBAAmB,CACnB,AACD,wBACC,gBAAiB,AACjB,uBAAwB,AACxB,kBAAoB,CACpB,AACD,iBACC,eAAiB,CACjB",file:"position.vue",sourcesContent:["\n.position_title {\n\tbackground: #e6e9ed;\n\theight: 30px;\n\tline-height: 30px;\n}\n.position_add_button {\n\twidth: 8%;\n\tmargin-top: 21px;\n\tmargin-bottom: 10px;\n}\n.position_two_title {\n\tmargin-top: 10px;\n\theight: 63px;\n\tbackground: white;\n\tline-height: 63px;\n}\n.position_two_title span {\n\tmargin-right: 20px;\n}\n.position_showList span {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n.position_Dialog {\n\tmargin-top: 10px;\n}\n"],sourceRoot:""}])},983:function(o,t,i){var e=i(617);"string"==typeof e&&(e=[[o.i,e,""]]),e.locals&&(o.exports=e.locals);i(17)("0f8443fe",e,!0)}});